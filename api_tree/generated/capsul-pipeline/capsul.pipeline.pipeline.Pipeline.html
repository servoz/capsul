
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
  
    <title>CAPSUL &mdash; CAPSUL - Collaborative Analysis Platform: Simple, Unifying, Lean</title>
  <!-- htmltitle is before nature.css - we use this hack to load bootstrap first -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="../../../_static/css/bootstrap.min.css" media="screen" />
  <link rel="stylesheet" href="../../../_static/css/bootstrap-responsive.css"/>

    
    <link rel="stylesheet" href="../../../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '0.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <link rel="top" title="CAPSUL - Collaborative Analysis Platform: Simple, Unifying, Lean" href="../../../index.html" />
  
   
       <script type="text/javascript" src="../../../_static/sidebar.js"></script>
   
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="../../../_static/js/bootstrap.min.js" type="text/javascript"></script>
  <!-- <link rel="canonical" href="https://bioproj.extra.cea.fr/redmine/projects/nsap/api_tree/generated/capsul-pipeline/capsul.pipeline.pipeline.Pipeline.html" /> -->

  <script type="text/javascript">
    $("div.buttonNext, div.buttonPrevious").hover(
       function () {
           $(this).css('background-color', '#FF9C34');
       },
       function () {
           $(this).css('background-color', '#A7D6E2');
       }
    );
    var bodywrapper = $('.bodywrapper');
    var sidebarbutton = $('#sidebarbutton');
    sidebarbutton.css({'height': '900px'});
  </script>

  </head>
  <body>

<div class="header-wrapper">
  <div class="header">
    <p class="logo">
      <a href="../../../index.html">
        <img src="../../../_static/capsul.png" alt="Logo"/>
      </a>
    </p><div class="navbar">
      <ul>
        <li><a href="../../../index.html">Home</a></li>
        <li><a href="../../../installation.html">Installation</a></li>
        <li class="btn-li">
          <div class="btn-group">
		    <a href="../../../documentation.html">Documentation</a>
		    <a class="btn dropdown-toggle" data-toggle="dropdown">
		      <span class="caret"></span>
		    </a>
		    <ul class="dropdown-menu">
	          <li class="link-title">CAPSUL</li>
			  <li><a href="../../../user_guide_tree/index.html">User guide</a></li>
			  <li><a href="../../index.html">API</a></li>
			  <li><a href="../../../gui_tree/index.html">GUI</a></li>
			  <li class="divider"></li>
		      <li><a href="../../../developer_tree/index.html">Development</a></li>
		    </ul>
		  </div>
        </li>
        <li><a href="http://neurospin-wiki.org/">NeuroSpin Wiki</a></li>
      </ul>
    </div> <!-- end navbar --></div>
</div>


<div class="content-wrapper">
    <div class="sphinxsidebar">
      <div class="sphinxsidebarwrapper">

        <!-- info setup -->
          <p class="doc-version">
           This documentation is for CAPSUL <strong>version 0.0.1</strong>
          </p>
        <p class="citing">
          If you use the software, please do not esitate to 
          <a &mdash; <a href="https://bioproj.extra.cea.fr/redmine/projects/capsul/">
          Report a Bug</a>.
        </p>
        <!-- <form action="/scripts/nsap-src-message.php" method="post">
          <textarea rows="4" name="comments" style="width:175px">Enter here your comments</textarea>
          <center>
           <input type="submit" value="Send">
          </center>
        </form> -->

      <!-- toc tree -->
      <ul>
<li><a class="reference internal" href="#">capsul.pipeline.pipeline.Pipeline</a></li>
</ul>


      </div>
    </div>
  

  <div class="content">
      
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="capsul-pipeline-pipeline-pipeline">
<h1>capsul.pipeline.pipeline.Pipeline<a class="headerlink" href="#capsul-pipeline-pipeline-pipeline" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="capsul.pipeline.pipeline.Pipeline">
<em class="property">class </em><tt class="descclassname">capsul.pipeline.pipeline.</tt><tt class="descname">Pipeline</tt><big>(</big><em>autoexport_nodes_parameters=True</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="../../../_modules/capsul/pipeline/pipeline.html#Pipeline"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#capsul.pipeline.pipeline.Pipeline" title="Permalink to this definition">¶</a></dt>
<dd><p>Pipeline containing Process nodes, and links between node parameters.</p>
<p>A Pipeline is normally subclassed, and its <a class="reference internal" href="#capsul.pipeline.pipeline.Pipeline.pipeline_definition" title="capsul.pipeline.pipeline.Pipeline.pipeline_definition"><tt class="xref py py-meth docutils literal"><span class="pre">pipeline_definition()</span></tt></a> method is overloaded to define its nodes and links. <a class="reference internal" href="#capsul.pipeline.pipeline.Pipeline.pipeline_definition" title="capsul.pipeline.pipeline.Pipeline.pipeline_definition"><tt class="xref py py-meth docutils literal"><span class="pre">pipeline_definition()</span></tt></a> will be called by the pipeline constructor.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">capsul.pipeline</span> <span class="kn">import</span> <span class="n">Pipeline</span>

<span class="k">class</span> <span class="nc">MyPipeline</span><span class="p">(</span><span class="n">Pipeline</span><span class="p">):</span>

  <span class="k">def</span> <span class="nf">pipeline_definition</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">add_process</span><span class="p">(</span><span class="s">&#39;proc1&#39;</span><span class="p">,</span> <span class="s">&#39;my_toolbox.my_process1&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">add_process</span><span class="p">(</span><span class="s">&#39;proc2&#39;</span><span class="p">,</span> <span class="s">&#39;my_toolbox.my_process2&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">add_switch</span><span class="p">(</span><span class="s">&#39;main_switch&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;in1&#39;</span><span class="p">,</span> <span class="s">&#39;in2&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s">&#39;out1&#39;</span><span class="p">,</span> <span class="s">&#39;out2&#39;</span><span class="p">])</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">add_link</span><span class="p">(</span><span class="s">&#39;proc1.out1-&gt;main_switch.in1_switch_out1&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">add_link</span><span class="p">(</span><span class="s">&#39;proc1.out2-&gt;main_switch.in1_switch_out2&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">add_link</span><span class="p">(</span><span class="s">&#39;proc2.out1-&gt;main_switch.in2_switch_out1&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">add_link</span><span class="p">(</span><span class="s">&#39;proc2.out1-&gt;main_switch.in2_switch_out2&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>After execution of <a class="reference internal" href="#capsul.pipeline.pipeline.Pipeline.pipeline_definition" title="capsul.pipeline.pipeline.Pipeline.pipeline_definition"><tt class="xref py py-meth docutils literal"><span class="pre">pipeline_definition()</span></tt></a>, the inner nodes parameters which are not connected will be automatically exported to the parent pipeline, with names prefixed with their process name, unless they are listed in a special &#8220;do_not_export&#8221; list (passed to <a class="reference internal" href="#capsul.pipeline.pipeline.Pipeline.add_process" title="capsul.pipeline.pipeline.Pipeline.add_process"><tt class="xref py py-meth docutils literal"><span class="pre">add_process()</span></tt></a> or stored in the pipeline instance).</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">pipeline</span> <span class="o">=</span> <span class="n">MyPipeline</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">proc1_input</span>
<span class="go">&lt;undefined&gt;</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<p>Type &#8216;Pipeline.help()&#8217; for a full description of this process parameters.
Type &#8216;&lt;Pipeline&gt;.get_input_spec()&#8217; for a full description of this process input trait types.
Type &#8216;&lt;Pipeline&gt;.get_output_spec()&#8217; for a full description of this process output trait types.</p>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="28%" />
<col width="72%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><cite>nodes</cite>: dict {node_name: node}</td>
<td>a dictionary containing the pipline nodes and where the pipeline node name is &#8216;&#8217;</td>
</tr>
<tr class="row-even"><td><cite>workflow_list</cite>: list</td>
<td>a list of odered nodes that can be executed</td>
</tr>
<tr class="row-odd"><td><cite>workflow_repr</cite>: str</td>
<td>a string representation of the workflow list &lt;node_i&gt;-&gt;&lt;node_i+1&gt;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#capsul.pipeline.pipeline.Pipeline.pipeline_definition" title="capsul.pipeline.pipeline.Pipeline.pipeline_definition"><tt class="xref py py-obj docutils literal"><span class="pre">pipeline_definition</span></tt></a>()</td>
<td>Define pipeline structure, nodes, sub-pipelines, switches, and links.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#capsul.pipeline.pipeline.Pipeline.add_trait" title="capsul.pipeline.pipeline.Pipeline.add_trait"><tt class="xref py py-obj docutils literal"><span class="pre">add_trait</span></tt></a>(name,&nbsp;trait)</td>
<td>Add a trait to the pipeline</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#capsul.pipeline.pipeline.Pipeline.add_process" title="capsul.pipeline.pipeline.Pipeline.add_process"><tt class="xref py py-obj docutils literal"><span class="pre">add_process</span></tt></a>(name,&nbsp;process[,&nbsp;do_not_export,&nbsp;...])</td>
<td>Add a new node in the pipeline</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#capsul.pipeline.pipeline.Pipeline.add_switch" title="capsul.pipeline.pipeline.Pipeline.add_switch"><tt class="xref py py-obj docutils literal"><span class="pre">add_switch</span></tt></a>(name,&nbsp;inputs,&nbsp;outputs[,&nbsp;...])</td>
<td>Add a switch node in the pipeline</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#capsul.pipeline.pipeline.Pipeline.add_link" title="capsul.pipeline.pipeline.Pipeline.add_link"><tt class="xref py py-obj docutils literal"><span class="pre">add_link</span></tt></a>(link[,&nbsp;weak_link])</td>
<td>Add a link between pipeline nodes.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#capsul.pipeline.pipeline.Pipeline.remove_link" title="capsul.pipeline.pipeline.Pipeline.remove_link"><tt class="xref py py-obj docutils literal"><span class="pre">remove_link</span></tt></a>(link)</td>
<td>Remove a link between pipeline nodes</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#capsul.pipeline.pipeline.Pipeline.export_parameter" title="capsul.pipeline.pipeline.Pipeline.export_parameter"><tt class="xref py py-obj docutils literal"><span class="pre">export_parameter</span></tt></a>(node_name,&nbsp;plug_name[,&nbsp;...])</td>
<td>Export a node plug at the pipeline level.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#capsul.pipeline.pipeline.Pipeline.workflow_ordered_nodes" title="capsul.pipeline.pipeline.Pipeline.workflow_ordered_nodes"><tt class="xref py py-obj docutils literal"><span class="pre">workflow_ordered_nodes</span></tt></a>()</td>
<td>Generate a workflow: list of process node to execute</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#capsul.pipeline.pipeline.Pipeline.workflow_graph" title="capsul.pipeline.pipeline.Pipeline.workflow_graph"><tt class="xref py py-obj docutils literal"><span class="pre">workflow_graph</span></tt></a>()</td>
<td>Generate a workflow graph</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#capsul.pipeline.pipeline.Pipeline.update_nodes_and_plugs_activation" title="capsul.pipeline.pipeline.Pipeline.update_nodes_and_plugs_activation"><tt class="xref py py-obj docutils literal"><span class="pre">update_nodes_and_plugs_activation</span></tt></a>()</td>
<td>Reset all nodes and plugs activations according to the current state of the pipeline (i.e.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#capsul.pipeline.pipeline.Pipeline.parse_link" title="capsul.pipeline.pipeline.Pipeline.parse_link"><tt class="xref py py-obj docutils literal"><span class="pre">parse_link</span></tt></a>(link)</td>
<td>Parse a link comming from export_parameter method.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#capsul.pipeline.pipeline.Pipeline.parse_parameter" title="capsul.pipeline.pipeline.Pipeline.parse_parameter"><tt class="xref py py-obj docutils literal"><span class="pre">parse_parameter</span></tt></a>(name)</td>
<td>Parse parameter of a node from its description.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#capsul.pipeline.pipeline.Pipeline.find_empty_parameters" title="capsul.pipeline.pipeline.Pipeline.find_empty_parameters"><tt class="xref py py-obj docutils literal"><span class="pre">find_empty_parameters</span></tt></a>()</td>
<td>Find internal File/Directory parameters not exported to the main</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#capsul.pipeline.pipeline.Pipeline.count_items" title="capsul.pipeline.pipeline.Pipeline.count_items"><tt class="xref py py-obj docutils literal"><span class="pre">count_items</span></tt></a>()</td>
<td>Count pipeline items to get its size.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="capsul.pipeline.pipeline.Pipeline.__init__">
<tt class="descname">__init__</tt><big>(</big><em>autoexport_nodes_parameters=True</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="../../../_modules/capsul/pipeline/pipeline.html#Pipeline.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#capsul.pipeline.pipeline.Pipeline.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the Pipeline class</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>autoexport_nodes_parameters: bool</strong> :</p>
<blockquote class="last">
<div><p>if True (default) nodes containing pipeline plugs are automatically
exported.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="capsul.pipeline.pipeline.Pipeline.add_iterative_process">
<tt class="descname">add_iterative_process</tt><big>(</big><em>name</em>, <em>process</em>, <em>iterative_plugs=None</em>, <em>do_not_export=None</em>, <em>make_optional=None</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="../../../_modules/capsul/pipeline/pipeline.html#Pipeline.add_iterative_process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#capsul.pipeline.pipeline.Pipeline.add_iterative_process" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a new iterative node in the pipeline.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>name: str (mandatory)</strong> :</p>
<blockquote>
<div><p>the node name (has to be unique)</p>
</div></blockquote>
<p><strong>process: Process (mandatory)</strong> :</p>
<blockquote>
<div><p>the process we want to add</p>
</div></blockquote>
<p><strong>iterative_plugs: list of str (optional)</strong> :</p>
<blockquote>
<div><p>a list of plug names on which we want to iterate</p>
</div></blockquote>
<p><strong>do_not_export: list of str (optional)</strong> :</p>
<blockquote>
<div><p>a list of plug names that we do not want to export</p>
</div></blockquote>
<p><strong>make_optional: list of str (optional)</strong> :</p>
<blockquote class="last">
<div><p>a list of plug names that we do not want to export</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="capsul.pipeline.pipeline.Pipeline.add_link">
<tt class="descname">add_link</tt><big>(</big><em>link</em>, <em>weak_link=False</em><big>)</big><a class="reference internal" href="../../../_modules/capsul/pipeline/pipeline.html#Pipeline.add_link"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#capsul.pipeline.pipeline.Pipeline.add_link" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a link between pipeline nodes.</p>
<p>If the destination node is a switch, force the source plug to be not
optional.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>link: str</strong> :</p>
<blockquote>
<div><p>link descriptionof the form:
&#8220;node.output-&gt;other_node.input&#8221;.
If no node is specified, the pipeline node itself is used:
&#8220;output-&gt;other_node.input&#8221;.</p>
</div></blockquote>
<p><strong>weak_link: bool</strong> :</p>
<blockquote class="last">
<div><p>this property is used when nodes are optional,
the plug information may not be generated.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="capsul.pipeline.pipeline.Pipeline.add_process">
<tt class="descname">add_process</tt><big>(</big><em>name</em>, <em>process</em>, <em>do_not_export=None</em>, <em>make_optional=None</em>, <em>inputs_to_copy=None</em>, <em>inputs_to_clean=None</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="../../../_modules/capsul/pipeline/pipeline.html#Pipeline.add_process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#capsul.pipeline.pipeline.Pipeline.add_process" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a new node in the pipeline</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>name: str (mandatory)</strong> :</p>
<blockquote>
<div><p>the node name (has to be unique).</p>
</div></blockquote>
<p><strong>process: Process (mandatory)</strong> :</p>
<blockquote>
<div><p>the process we want to add.</p>
</div></blockquote>
<p><strong>do_not_export: list of str (optional)</strong> :</p>
<blockquote>
<div><p>a list of plug names that we do not want to export.</p>
</div></blockquote>
<p><strong>make_optional: list of str (optional)</strong> :</p>
<blockquote>
<div><p>a list of plug names that we do not want to export.</p>
</div></blockquote>
<p><strong>inputs_to_copy: list of str (optional)</strong> :</p>
<blockquote class="last">
<div><p>a list of item to copy.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="capsul.pipeline.pipeline.Pipeline.add_switch">
<tt class="descname">add_switch</tt><big>(</big><em>name</em>, <em>inputs</em>, <em>outputs</em>, <em>export_switch=True</em>, <em>make_optional=()</em><big>)</big><a class="reference internal" href="../../../_modules/capsul/pipeline/pipeline.html#Pipeline.add_switch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#capsul.pipeline.pipeline.Pipeline.add_switch" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a switch node in the pipeline</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>name: str (mandatory)</strong> :</p>
<blockquote>
<div><p>name for the switch node (has to be unique)</p>
</div></blockquote>
<p><strong>inputs: list of str (mandatory)</strong> :</p>
<blockquote>
<div><p>names for switch inputs.
Switch activation will select amongst them.
Inputs names will actually be a combination of input and output,
in the shape &#8220;input_switch_output&#8221;.
This behaviour is needed when there are several outputs, and thus
several input groups.</p>
</div></blockquote>
<p><strong>outputs: list of str (mandatory)</strong> :</p>
<blockquote>
<div><p>names for outputs.</p>
</div></blockquote>
<p><strong>export_switch: bool (optional)</strong> :</p>
<blockquote>
<div><p>if True, export the switch trigger to the parent pipeline with
<tt class="docutils literal"><span class="pre">name</span></tt> as parameter name</p>
</div></blockquote>
<p><strong>make_optional: sequence (optional)</strong> :</p>
<blockquote class="last">
<div><p>list of optional outputs.
These outputs will be made optional in the switch output. By default
they are mandatory.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="capsul.pipeline.pipeline_nodes.Switch.html#capsul.pipeline.pipeline_nodes.Switch" title="capsul.pipeline.pipeline_nodes.Switch"><tt class="xref py py-obj docutils literal"><span class="pre">capsul.pipeline.pipeline_nodes.Switch</span></tt></a></p>
</div>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">pipeline</span><span class="o">.</span><span class="n">add_switch</span><span class="p">(</span><span class="s">&#39;group_switch&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;in1&#39;</span><span class="p">,</span> <span class="s">&#39;in2&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s">&#39;out1&#39;</span><span class="p">,</span> <span class="s">&#39;out2&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>will create a switch with 4 inputs and 2 outputs:
inputs: &#8220;in1_switch_out1&#8221;, &#8220;in2_switch_out1&#8221;, &#8220;in1_switch_out2&#8221;,
&#8220;in2_switch_out2&#8221;
outputs: &#8220;out1&#8221;, &#8220;out2&#8221;</p>
</dd></dl>

<dl class="method">
<dt id="capsul.pipeline.pipeline.Pipeline.add_trait">
<tt class="descname">add_trait</tt><big>(</big><em>name</em>, <em>trait</em><big>)</big><a class="reference internal" href="../../../_modules/capsul/pipeline/pipeline.html#Pipeline.add_trait"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#capsul.pipeline.pipeline.Pipeline.add_trait" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a trait to the pipeline</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>name: str (mandatory)</strong> :</p>
<blockquote>
<div><p>the trait name</p>
</div></blockquote>
<p><strong>trait: trait instance (mandatory)</strong> :</p>
<blockquote class="last">
<div><p>the trait we want to add</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="capsul.pipeline.pipeline.Pipeline.all_nodes">
<tt class="descname">all_nodes</tt><big>(</big><big>)</big><a class="reference internal" href="../../../_modules/capsul/pipeline/pipeline.html#Pipeline.all_nodes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#capsul.pipeline.pipeline.Pipeline.all_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate over all pipeline nodes including sub-pipeline nodes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns :</th><td class="field-body"><p class="first"><strong>nodes: Generator of Node</strong> :</p>
<blockquote class="last">
<div><p>Iterates over all nodes</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="capsul.pipeline.pipeline.Pipeline.autoexport_nodes_parameters">
<tt class="descname">autoexport_nodes_parameters</tt><big>(</big><big>)</big><a class="reference internal" href="../../../_modules/capsul/pipeline/pipeline.html#Pipeline.autoexport_nodes_parameters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#capsul.pipeline.pipeline.Pipeline.autoexport_nodes_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Automatically export node containing pipeline plugs</p>
<p>If plug is not optional and if the plug has to be exported</p>
</dd></dl>

<dl class="method">
<dt id="capsul.pipeline.pipeline.Pipeline.compare_to_state">
<tt class="descname">compare_to_state</tt><big>(</big><em>pipeline_state</em><big>)</big><a class="reference internal" href="../../../_modules/capsul/pipeline/pipeline.html#Pipeline.compare_to_state"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#capsul.pipeline.pipeline.Pipeline.compare_to_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the differences between this pipeline and a previously recorded state.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns :</th><td class="field-body"><p class="first"><strong>differences: list</strong> :</p>
<blockquote class="last">
<div><p>each element is a human readable string explaining one difference
(e.g. &#8216;node &#8220;my_process&#8221; is missing&#8217;)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="capsul.pipeline.pipeline.Pipeline.count_items">
<tt class="descname">count_items</tt><big>(</big><big>)</big><a class="reference internal" href="../../../_modules/capsul/pipeline/pipeline.html#Pipeline.count_items"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#capsul.pipeline.pipeline.Pipeline.count_items" title="Permalink to this definition">¶</a></dt>
<dd><p>Count pipeline items to get its size.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns :</th><td class="field-body"><p class="first"><strong>items: tuple</strong> :</p>
<blockquote class="last">
<div><p>(nodes_count, processes_count, plugs_count, params_count,
links_count, enabled_nodes_count, enabled_procs_count,
enabled_links_count)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="capsul.pipeline.pipeline.Pipeline.export_parameter">
<tt class="descname">export_parameter</tt><big>(</big><em>node_name</em>, <em>plug_name</em>, <em>pipeline_parameter=None</em>, <em>weak_link=False</em>, <em>is_enabled=None</em>, <em>is_optional=None</em><big>)</big><a class="reference internal" href="../../../_modules/capsul/pipeline/pipeline.html#Pipeline.export_parameter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#capsul.pipeline.pipeline.Pipeline.export_parameter" title="Permalink to this definition">¶</a></dt>
<dd><p>Export a node plug at the pipeline level.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>node_name: str (mandatory)</strong> :</p>
<blockquote>
<div><p>the name of node containing the plug we want to export</p>
</div></blockquote>
<p><strong>plug_name: str (mandatory)</strong> :</p>
<blockquote>
<div><p>the node plug name we want to export</p>
</div></blockquote>
<p><strong>pipeline_parameter: str (optional)</strong> :</p>
<blockquote>
<div><p>the name to access this parameter at the pipeline level.
Default None, the plug name is used</p>
</div></blockquote>
<p><strong>weak_link: bool (optional)</strong> :</p>
<blockquote>
<div><p>this property is used when nodes are weak,
<strong>FIXME:</strong> what does it exactly mean ?
the plug information may not be generated.</p>
</div></blockquote>
<p><strong>is_enabled: bool (optional)</strong> :</p>
<blockquote>
<div><p>a property to specify that it is not a user-parameter
automatic generation)</p>
</div></blockquote>
<p><strong>is_optional: bool (optional)</strong> :</p>
<blockquote class="last">
<div><p>sets the exported parameter to be optional</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="capsul.pipeline.pipeline.Pipeline.find_empty_parameters">
<tt class="descname">find_empty_parameters</tt><big>(</big><big>)</big><a class="reference internal" href="../../../_modules/capsul/pipeline/pipeline.html#Pipeline.find_empty_parameters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#capsul.pipeline.pipeline.Pipeline.find_empty_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Find internal File/Directory parameters not exported to the main
input/output parameters of the pipeline with empty values. This is
meant to track parameters which should be associated with temporary
files internally.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns :</th><td class="field-body"><p class="first"><strong>list</strong> :</p>
<blockquote class="last">
<div><p>Each element is a list with 3 values: node, parameter_name,
optional</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="capsul.pipeline.pipeline.Pipeline.parse_link">
<tt class="descname">parse_link</tt><big>(</big><em>link</em><big>)</big><a class="reference internal" href="../../../_modules/capsul/pipeline/pipeline.html#Pipeline.parse_link"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#capsul.pipeline.pipeline.Pipeline.parse_link" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse a link comming from export_parameter method.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>link: str</strong> :</p>
<blockquote>
<div><p>the link description of the form
&#8216;node_from.plug_name-&gt;node_to.plug_name&#8217;</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns :</th><td class="field-body"><p class="first"><strong>output: tuple</strong> :</p>
<blockquote class="last">
<div><p>tuple containing the link description and instances</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">Pipeline</span><span class="o">.</span><span class="n">parse_link</span><span class="p">(</span><span class="s">&quot;node1.plug1-&gt;node2.plug2&quot;</span><span class="p">)</span>
<span class="go">&quot;node1&quot;, &quot;plug1&quot;, &lt;instance node1&gt;, &lt;instance plug1&gt;,</span>
<span class="go">&quot;node2&quot;, &quot;plug2&quot;, &lt;instance node2&gt;, &lt;instance plug2&gt;</span>
</pre></div>
</div>
<p>For a pipeline node:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">Pipeline</span><span class="o">.</span><span class="n">parse_link</span><span class="p">(</span><span class="s">&quot;plug1-&gt;node2.plug2&quot;</span><span class="p">)</span>
<span class="go">&quot;&quot;, &quot;plug1&quot;, &lt;instance pipeline&gt;, &lt;instance plug1&gt;,</span>
<span class="go">&quot;node2&quot;, &quot;plug2&quot;, &lt;instance node2&gt;, &lt;instance plug2&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="capsul.pipeline.pipeline.Pipeline.parse_parameter">
<tt class="descname">parse_parameter</tt><big>(</big><em>name</em><big>)</big><a class="reference internal" href="../../../_modules/capsul/pipeline/pipeline.html#Pipeline.parse_parameter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#capsul.pipeline.pipeline.Pipeline.parse_parameter" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse parameter of a node from its description.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>name: str</strong> :</p>
<blockquote>
<div><p>the description plug we want to load &#8216;node.plug&#8217;</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns :</th><td class="field-body"><p class="first"><strong>output: tuple</strong> :</p>
<blockquote class="last">
<div><p>tuple containing the plug description and instances</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="capsul.pipeline.pipeline.Pipeline.pipeline_definition">
<tt class="descname">pipeline_definition</tt><big>(</big><big>)</big><a class="reference internal" href="../../../_modules/capsul/pipeline/pipeline.html#Pipeline.pipeline_definition"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#capsul.pipeline.pipeline.Pipeline.pipeline_definition" title="Permalink to this definition">¶</a></dt>
<dd><p>Define pipeline structure, nodes, sub-pipelines, switches, and links.</p>
<p>This method should be overloaded in subclasses, it does nothing in the base Pipeline class.</p>
</dd></dl>

<dl class="method">
<dt id="capsul.pipeline.pipeline.Pipeline.pipeline_state">
<tt class="descname">pipeline_state</tt><big>(</big><big>)</big><a class="reference internal" href="../../../_modules/capsul/pipeline/pipeline.html#Pipeline.pipeline_state"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#capsul.pipeline.pipeline.Pipeline.pipeline_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an object composed of basic Python objects that contains
the whole structure and state of the pipeline. This object can be
given to compare_to_state method in order to get the differences with
a previously stored state. This is typically used in tests scripts.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns :</th><td class="field-body"><p class="first"><strong>pipeline_state: dictionary</strong> :</p>
<blockquote class="last">
<div><p>todo</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="capsul.pipeline.pipeline.Pipeline.remove_link">
<tt class="descname">remove_link</tt><big>(</big><em>link</em><big>)</big><a class="reference internal" href="../../../_modules/capsul/pipeline/pipeline.html#Pipeline.remove_link"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#capsul.pipeline.pipeline.Pipeline.remove_link" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a link between pipeline nodes</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>link: str</strong> :</p>
<blockquote class="last">
<div><p>link description. Its shape should be: &#8220;node.output-&gt;other_node.input&#8221;.
If no node is specified, the pipeline itself is assumed.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="capsul.pipeline.pipeline.Pipeline.remove_trait">
<tt class="descname">remove_trait</tt><big>(</big><em>name</em><big>)</big><a class="reference internal" href="../../../_modules/capsul/pipeline/pipeline.html#Pipeline.remove_trait"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#capsul.pipeline.pipeline.Pipeline.remove_trait" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a trait to the pipeline</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>name: str (mandatory)</strong> :</p>
<blockquote class="last">
<div><p>the trait name</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="capsul.pipeline.pipeline.Pipeline.update_nodes_and_plugs_activation">
<tt class="descname">update_nodes_and_plugs_activation</tt><big>(</big><big>)</big><a class="reference internal" href="../../../_modules/capsul/pipeline/pipeline.html#Pipeline.update_nodes_and_plugs_activation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#capsul.pipeline.pipeline.Pipeline.update_nodes_and_plugs_activation" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset all nodes and plugs activations according to the current state
of the pipeline (i.e. switch selection, nodes disabled, etc.).
Activations are set according to the following rules.</p>
</dd></dl>

<dl class="method">
<dt id="capsul.pipeline.pipeline.Pipeline.workflow_graph">
<tt class="descname">workflow_graph</tt><big>(</big><big>)</big><a class="reference internal" href="../../../_modules/capsul/pipeline/pipeline.html#Pipeline.workflow_graph"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#capsul.pipeline.pipeline.Pipeline.workflow_graph" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a workflow graph</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns :</th><td class="field-body"><p class="first"><strong>graph: topological_sort.Graph</strong> :</p>
<blockquote class="last">
<div><p>graph representation of the workflow from the current state of
the pipeline</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="capsul.pipeline.pipeline.Pipeline.workflow_ordered_nodes">
<tt class="descname">workflow_ordered_nodes</tt><big>(</big><big>)</big><a class="reference internal" href="../../../_modules/capsul/pipeline/pipeline.html#Pipeline.workflow_ordered_nodes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#capsul.pipeline.pipeline.Pipeline.workflow_ordered_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a workflow: list of process node to execute</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns :</th><td class="field-body"><p class="first"><strong>workflow_list: list of Process</strong> :</p>
<blockquote class="last">
<div><p>an ordered list of Processes to execute</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
    <div class="clearer">
    </div>
  </div>
  
</div>

<div class="footer">
    &copy; 2013, CAPSUL developers &lt;antoine.grigis@cea.fr&gt;.
</div>
  </body>
</html>